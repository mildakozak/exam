<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>

    <style>
.hero-text-replace {
  animation: slidedown 4s infinite;
  -webkit-animation: slidedown 4s infinite;
  -moz-animation: slidedown 4s infinite;
}

@keyframes slidedown {
  0% {
    opacity: 50;
  }

  5% {
    opacity: 0;
    transform: translateY(0.5em);
  }

  7% {
    transform: translateY(-1em);
  }

  10% {
    opacity: 0;
  }

  20% {
    transform: translateY(0);
    opacity: 100;
  }
}
    </style>
  </head>
  <body>
    <div>
  <h1>I am <br>
    <span class='hero-text-replace'></span>
  </h1>
</div>

<script type="text/javascript">
  let i = 0;

const replaceText = () => {
  const phrase = document.querySelector('.hero-text-replace');
  const compStyles = window.getComputedStyle(phrase);
  const animation = compStyles.getPropertyValue('animation');
  const animationTime = parseFloat(animation.match(/\d*[.]?\d+/)) * 1000;

  const phrases = ['salget', 'kassesystemet', 'ekspedienterne', 'produkterne'];


  const newPhrase = phrases[i];
  i++;
  if (i > 3) {
    i=0;
  }

  setTimeout(() => {
    phrase.textContent = newPhrase;
  }, 400); // time to allow opacity to hit 0 before changing word
}

const getAnimationTime = () => {
  const phrase = document.querySelector('.hero-text-replace');
  const compStyles = window.getComputedStyle(phrase);
  let animation = compStyles.getPropertyValue('animation');

  // firefox support for non-shorthand property
  animation != "" ? animation : animation = compStyles.getPropertyValue('-moz-animation-duration');

    // webkit support for non-shorthand property
  animation != "" ? animation : animation = compStyles.getPropertyValue('-webkit-animation-duration');


  const animationTime = parseFloat(animation.match(/\d*[.]?\d+/)) * 1000;
  return animationTime;
}

replaceText();
setInterval(replaceText, getAnimationTime());

</script>
  </body>
</html>
